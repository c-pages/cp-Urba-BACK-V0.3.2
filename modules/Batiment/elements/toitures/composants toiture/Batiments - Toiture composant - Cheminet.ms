

	
( ----	FileIn ----
	
	
--- parametres de base	-----------------------------
compo_nom 	= "Cheminet"	
compo_type	=	#cheminet
compo_tooltip =""

--- les parametres du composant	---------
struct compo_params	(
	
	--- datas du model	------------
	datas_objet = 	"[18.3386,-45.1445,-59.5213];[-18.3386,-45.1445,-59.5213];[18.3386,-45.1444,56.129];[-18.3386,-45.1444,56.129];[18.3386,35.804,-59.5213];[-18.3386,35.804,-59.5213];[18.3386,35.804,56.1289];[-18.3386,35.804,56.1289];[-18.3386,-45.1444,81.5502];[18.3386,-45.1444,67.3382];[-18.3386,-45.1444,67.3382];[18.3386,35.804,67.3382];[-18.3386,35.804,67.3382];[18.3386,35.804,86.3668];[-18.3386,35.804,86.3668];[-18.3386,-45.1444,86.3668];[18.3386,-45.1444,86.3668];[13.3017,-45.1444,69.5242];[13.3017,-45.1444,81.5502];[-13.3017,-45.1444,81.5502];[-13.3017,-45.1444,69.5242];[-13.3017,35.804,69.5242];[13.3017,35.804,81.5501];[13.3017,35.804,69.5242];[-18.3386,-40.1075,69.5242];[-18.3386,30.7671,81.5501];[-18.3386,30.7671,69.5242];[18.3386,30.7671,69.5242];[18.3386,30.7671,81.5501];[18.3386,-40.1075,81.5502];[18.3386,-40.1075,69.5242];[13.2475,-40.0533,-54.4301];[-13.2475,-40.0533,-54.4301];[13.2475,-40.0533,56.129];[-13.2475,-40.0533,56.129];[13.2475,30.7128,-54.4302];[-13.2475,30.7128,-54.4302];[13.2475,30.7129,56.1289];[-13.2475,30.7129,56.1289];[13.2475,-40.0533,67.3382];[-13.2475,-40.0533,67.3382];[13.2475,30.7129,67.3382];[-13.2475,30.7129,67.3382];[13.2475,30.7129,81.5495];[-13.2474,30.7129,81.5495];[-13.2475,-40.0533,81.5496];[13.3017,-40.0533,69.5242];[13.2655,-40.0714,81.5502];[-13.3017,-40.0533,69.5242];[-13.3017,30.7129,69.5242];[13.2836,30.7129,81.5501];[13.3017,30.7129,69.5242];[-13.2475,-40.1075,69.5242];[-13.2655,-40.0713,81.5502];[-13.2475,30.7671,69.5242];[13.2475,30.7671,69.5242];[13.2475,30.74,81.5501];[13.2475,-40.1075,69.5242];[18.3386,-45.1444,81.5502];[18.3386,35.804,81.5501];[-18.3386,35.804,81.5501];[18.3386,35.804,81.5501];[18.3386,-45.1444,81.5502];[-18.3386,-45.1444,81.5502];[18.3386,35.804,81.5501];[-18.3386,35.804,81.5501];[-13.3017,35.804,81.5501];[-18.3386,-40.1075,81.5502];[13.2474,-40.0533,81.5496];[-13.2655,30.7309,81.5501];[-25.9255,43.3909,86.3668];[25.9255,43.3909,86.3668];[25.9255,-52.7313,86.3668];[-25.9255,-52.7313,86.3668];[25.9255,-52.7313,81.5501];[25.9255,43.3909,81.5501];[-25.9255,43.3909,81.5501];[-25.9255,-52.7313,81.5501];°#(4, 2);#(2, 1);#(1, 3);#(3, 4);#(8, 7);#(7, 5);#(5, 6);#(6, 8);#(5, 1);#(2, 6);#(4, 8);#(7, 3);#(3, 10);#(10, 11);#(11, 4);#(8, 13);#(13, 12);#(12, 7);#(11, 13);#(12, 10);#(15, 14);#(16, 15);#(17, 16);#(14, 17);#(73, 75);#(63, 65);#(76, 72);#(65, 66);#(77, 71);#(66, 64);#(78, 74);#(64, 63);#(10, 59);#(59, 19);#(19, 18);#(18, 10);#(9, 11);#(11, 21);#(21, 20);#(20, 9);#(18, 21);#(13, 61);#(61, 67);#(67, 22);#(22, 13);#(62, 12);#(12, 24);#(24, 23);#(23, 62);#(22, 24);#(9, 68);#(68, 25);#(25, 11);#(13, 27);#(27, 26);#(26, 61);#(25, 27);#(62, 29);#(29, 28);#(28, 12);#(10, 31);#(31, 30);#(30, 59);#(28, 31);#(32, 33);#(33, 35);#(35, 34);#(34, 32);#(36, 38);#(38, 39);#(39, 37);#(37, 36);#(32, 36);#(37, 33);#(39, 35);#(34, 38);#(41, 40);#(40, 34);#(35, 41);#(42, 43);#(43, 39);#(38, 42);#(43, 41);#(40, 42);#(46, 45);#(45, 44);#(44, 69);#(69, 46);#(48, 40);#(40, 47);#(47, 48);#(49, 41);#(41, 54);#(54, 49);#(49, 47);#(70, 43);#(43, 50);#(50, 70);#(52, 42);#(42, 57);#(57, 51);#(51, 52);#(52, 50);#(41, 53);#(53, 54);#(55, 43);#(70, 55);#(55, 53);#(42, 56);#(56, 57);#(58, 40);#(48, 58);#(58, 56);#(63, 69);#(44, 65);#(45, 66);#(46, 64);#(59, 48);#(48, 19);#(47, 18);#(21, 49);#(54, 20);#(54, 9);#(61, 70);#(70, 67);#(50, 22);#(24, 52);#(51, 23);#(51, 62);#(57, 60);#(60, 51);#(54, 68);#(53, 25);#(27, 55);#(70, 26);#(51, 29);#(29, 57);#(56, 28);#(31, 58);#(48, 30);#(71, 72);#(72, 73);#(73, 74);#(74, 71);#(75, 76);#(76, 77);#(77, 78);#(78, 75);#(15, 71);#(14, 72);#(17, 73);#(16, 74);#(63, 75);#(65, 76);#(66, 77);#(64, 78);°#(4, 2, 1, 3);#(8, 7, 5, 6);#(6, 5, 1, 2);#(8, 6, 2, 4);#(5, 7, 3, 1);#(3, 10, 11, 4);#(8, 13, 12, 7);#(4, 11, 13, 8);#(7, 12, 10, 3);#(14, 15, 16, 17);#(73, 75, 76, 72);#(71, 72, 76, 77);#(74, 71, 77, 78);#(73, 74, 78, 75);#(10, 59, 19, 18);#(9, 11, 21, 20);#(11, 10, 18, 21);#(13, 61, 67, 22);#(62, 12, 24, 23);#(12, 13, 22, 24);#(11, 9, 68, 25);#(61, 13, 27, 26);#(13, 11, 25, 27);#(12, 62, 29, 28);#(59, 10, 31, 30);#(10, 12, 28, 31);#(32, 33, 35, 34);#(36, 38, 39, 37);#(32, 36, 37, 33);#(33, 37, 39, 35);#(34, 38, 36, 32);#(41, 40, 34, 35);#(42, 43, 39, 38);#(43, 41, 35, 39);#(40, 42, 38, 34);#(46, 45, 44, 69);#(48, 40, 47);#(49, 41, 54);#(47, 40, 41, 49);#(70, 43, 50);#(52, 42, 57, 51);#(50, 43, 42, 52);#(54, 41, 53);#(55, 43, 70);#(53, 41, 43, 55);#(57, 42, 56);#(58, 40, 48);#(56, 42, 40, 58);#(65, 63, 69, 44);#(66, 65, 44, 45);#(64, 66, 45, 46);#(63, 64, 46, 69);#(19, 59, 48);#(18, 19, 48, 47);#(20, 21, 49, 54);#(9, 20, 54);#(21, 18, 47, 49);#(67, 61, 70);#(22, 67, 70, 50);#(23, 24, 52, 51);#(62, 23, 51);#(51, 57, 60);#(24, 22, 50, 52);#(68, 9, 54);#(25, 68, 54, 53);#(26, 27, 55, 70);#(61, 26, 70);#(27, 25, 53, 55);#(29, 62, 51);#(28, 29, 57, 56);#(30, 31, 58, 48);#(59, 30, 48);#(31, 28, 56, 58);#(15, 14, 72, 71);#(14, 17, 73, 72);#(17, 16, 74, 73);#(16, 15, 71, 74);#(63, 65, 76, 75);#(65, 66, 77, 76);#(66, 64, 78, 77);#(64, 63, 75, 78);°1;1;2;4;4;1;1;4;4;1;2;4;2;4;1;1;1;1;1;1;4;4;4;4;4;4;1;1;2;4;4;1;1;4;4;1;2;2;1;2;2;1;8;8;4;8;8;4;1;1;1;1;16;4;4;16;8;16;4;4;8;1;8;16;1;1;16;2;8;16;1;16;2;0;0;0;0;0;0;0;0;°10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;10;°",
	
	
	/* 
	verts_Gauche 	= #{1..2, 4..39, 42..43, 46..47, 49, 52, 54..55, 57, 60, 62..63, 65, 68..70},
	verts_Droite 	= #{3, 40..41, 44..45, 48, 50..51, 53, 56, 58..59, 61, 64, 66..67},
	verts_Devant 	= #{2..37, 43..44, 47..48, 51..52, 55..56, 59..60, 63..64, 67..70},
	verts_Arriere 	= #{1, 38..42, 45..46, 49..50, 53..54, 57..58, 61..62, 65..66},
	verts_haut 		= #{41..68},
	
	longueur 	= 250,
	largeur 		= 350,
	hauteur 	= 230, 
	*/
	rotation 	= 90
	
)


--- les rollout du composant	---------
rollout compo_dialog "Baie" width:433 height:747
(
	local m_rollPrt
	local	 m_plug
	local m_compo
	local m_dialog_menuiserie	
)



--- la fonction de construction	---------
fn compo_fnConstruire  		_plug		pts_accroches		 this: 	transformation:	= (
	local mgr_trimesh = _plug.core.get_mgr_trimesh ()
	
	local relative_transfrom = rotateZMatrix 	this.params.rotation * transformation
	mgr_trimesh.creer_objet		this.params		node_dest:_plug 		transformation:relative_transfrom
	
)
	




	

------------------CONSTANT ------------------------
--- on importe le fichier mere des composants ----
_str_contructeur = fileIn "$userScripts\cp-Urba\modules\Batiment\elements\Batiment - Constructeur.ms"
--- Creation de la structure mere	-----------------
_str_contructeur  	tooltip:compo_tooltip		nom:compo_nom	type:compo_type	params:(compo_params())	dialog:compo_dialog	fnConstruire:compo_fnConstruire

	
	
	
) ----	FileIn ----
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	